<script src='{{ 'loading-animation.js' | asset_url }}' type='module' defer='defer'></script>

<loading-animation>
  <div
    id='loading-screen'
    class='tw-w-screen tw-h-dvh tw-bg-black tw-top-0 tw-left-0 tw-fixed tw-z-[500] tw-flex tw-items-center tw-justify-center'
  >
    <svg viewBox='0 0 288 360' class='tw-h-3/4'>
       <g>
        <path  style="fill: none; stroke: white; stroke-width: 1;" d="M108.56,101.71h36.94c18.88.07,33.14,3.33,42.8,9.77,9.66,6.44,14.49,15.62,14.49,27.54-.22,9.85-3.76,17.36-10.6,22.54-6.85,5.18-15.75,8.73-26.7,10.66,13.4,2.52,24.13,6.72,32.2,12.6,8.07,5.88,12.21,14.86,12.44,26.93-.37,14.73-6.33,25.56-17.88,32.48-11.55,6.92-26.35,10.38-44.41,10.38h-73.28v-5.11c7.03-.07,12.14-1.68,15.32-4.83,3.18-3.15,4.74-7.16,4.66-12.05v-108.7c-.12-4.85-1.47-8.57-4.04-11.16-.53-.53-1.1-1.01-1.73-1.45-3.7-2.55-8.44-3.79-14.21-3.72v-5.88h34.02M170.93,215.41c.67-12.14-1.35-21.52-6.05-28.15-4.7-6.62-16.16-9.97-34.37-10.05v58.18c-.07,3.04.76,5.72,2.5,8.05,1.74,2.33,4.83,3.57,9.27,3.72,10.95-.07,18.52-2.92,22.71-8.55,4.18-5.62,6.16-13.36,5.94-23.21ZM130.51,170.77c14.95,0,24.63-2.72,29.04-8.16,4.4-5.44,6.38-13.64,5.94-24.59.22-7.92-1.33-14.62-4.66-20.1-3.33-5.48-9.66-8.33-18.99-8.55-3.85.07-6.7.91-8.55,2.5-1.85,1.59-2.78,3.65-2.78,6.16v52.74Z"/>
        <path  style="fill: none; stroke: white; stroke-width: 1;" d="M214.65,254.61c-1.7,0-3.08-.55-4.25-1.64-.75-.7-1.35-1.51-1.74-2.46-.29-.71-.34-1.45-.28-2.2.13-1.5.64-2.89,1.23-4.26.72-1.67,1.58-3.27,2.39-4.9.65-1.3,1.28-2.6,1.79-3.97.29-.78.54-1.58.69-2.4,0-.03.01-.06.02-.08,0-.01.02-.02.02-.03.01.01.03.02.03.04.02.1.04.21.06.31.25,1.17.66,2.28,1.13,3.37.85,1.96,1.87,3.83,2.81,5.75.63,1.29,1.23,2.59,1.66,3.96.26.84.45,1.69.48,2.58.03.99-.22,1.9-.76,2.74-.67,1.03-1.48,1.9-2.57,2.5-.68.37-1.41.59-2.19.67-.22.02-.44.03-.56.04Z"/>
      </g>
       <g >
        <path id="path-1" style="fill: white; clip-path: polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%);" d="M108.56,101.71h36.94c18.88.07,33.14,3.33,42.8,9.77,9.66,6.44,14.49,15.62,14.49,27.54-.22,9.85-3.76,17.36-10.6,22.54-6.85,5.18-15.75,8.73-26.7,10.66,13.4,2.52,24.13,6.72,32.2,12.6,8.07,5.88,12.21,14.86,12.44,26.93-.37,14.73-6.33,25.56-17.88,32.48-11.55,6.92-26.35,10.38-44.41,10.38h-73.28v-5.11c7.03-.07,12.14-1.68,15.32-4.83,3.18-3.15,4.74-7.16,4.66-12.05v-108.7c-.12-4.85-1.47-8.57-4.04-11.16-.53-.53-1.1-1.01-1.73-1.45-3.7-2.55-8.44-3.79-14.21-3.72v-5.88h34.02M170.93,215.41c.67-12.14-1.35-21.52-6.05-28.15-4.7-6.62-16.16-9.97-34.37-10.05v58.18c-.07,3.04.76,5.72,2.5,8.05,1.74,2.33,4.83,3.57,9.27,3.72,10.95-.07,18.52-2.92,22.71-8.55,4.18-5.62,6.16-13.36,5.94-23.21ZM130.51,170.77c14.95,0,24.63-2.72,29.04-8.16,4.4-5.44,6.38-13.64,5.94-24.59.22-7.92-1.33-14.62-4.66-20.1-3.33-5.48-9.66-8.33-18.99-8.55-3.85.07-6.7.91-8.55,2.5-1.85,1.59-2.78,3.65-2.78,6.16v52.74Z"/>
        <path id="path-2" style="fill: white; clip-path: polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%);" d="M214.65,254.61c-1.7,0-3.08-.55-4.25-1.64-.75-.7-1.35-1.51-1.74-2.46-.29-.71-.34-1.45-.28-2.2.13-1.5.64-2.89,1.23-4.26.72-1.67,1.58-3.27,2.39-4.9.65-1.3,1.28-2.6,1.79-3.97.29-.78.54-1.58.69-2.4,0-.03.01-.06.02-.08,0-.01.02-.02.02-.03.01.01.03.02.03.04.02.1.04.21.06.31.25,1.17.66,2.28,1.13,3.37.85,1.96,1.87,3.83,2.81,5.75.63,1.29,1.23,2.59,1.66,3.96.26.84.45,1.69.48,2.58.03.99-.22,1.9-.76,2.74-.67,1.03-1.48,1.9-2.57,2.5-.68.37-1.41.59-2.19.67-.22.02-.44.03-.56.04Z"/>
      </g>
    </svg>
  </div>
  <div
    class='tw-w-screen tw-h-dvh tw-bg-black tw-top-0 tw-left-0'
  >
    {% if section.settings.home_link != blank %}
      <a
        href='{{ section.settings.home_link }}'
        aria-label='{{ section.settings.home_link.title }}'
        class='tw-w-full tw-h-full'
      >
    {% endif %}
    {%- if section.settings.desktop_video != blank or section.settings.mobile_video != blank -%}
      {%- if section.settings.desktop_video != blank -%}
        <div class='desktop-video tw-w-full tw-h-full tw-hidden md:tw-block'>
          {{
            section.settings.desktop_video
            | video_tag:
              autoplay: false,
              loop: true,
              muted: true,
              controls: false,
              playsinline: true,
              class: 'desktop-video tw-w-full tw-h-full tw-object-cover tw-object-center'
          }}
        </div>
      {%- endif -%}

      {%- if section.settings.mobile_video != blank -%}
        <div class='mobile-video tw-w-full tw-h-full md:tw-hidden'>
          {{
            section.settings.mobile_video
            | video_tag:
              autoplay: false,
              loop: true,
              muted: true,
              controls: false,
              playsinline: true,
              class: 'mobile-video tw-w-full tw-h-full tw-object-cover tw-object-center'
          }}
        </div>
      {%- endif -%}
    {% elsif section.settings.image != blank %}
      {%- # Desktop image -%}
      <div class='tw-hidden md:tw-block tw-w-full tw-h-full'>
        <img
          src='{{ section.settings.image | image_url: width: 2000 }}'
          alt='{{ section.settings.image.alt | escape }}'
          class='tw-w-full tw-h-full tw-object-cover'
          loading='lazy'
          width='{{ section.settings.image.width }}'
          height='{{ section.settings.image.height }}'
        >
      </div>
      {%- # Mobile image -%}
      <div class='md:tw-hidden tw-w-full tw-h-full'>
        <img
          src='{{ section.settings.image | image_url: width: 1000 }}'
          alt='{{ section.settings.image.alt | escape }}'
          class='tw-w-full tw-h-full tw-object-cover'
          loading='lazy'
          width='{{ section.settings.image.width }}'
          height='{{ section.settings.image.height }}'
        >
      </div>
    {%- endif -%}
    {% if section.settings.home_link != blank %}
      </a>
    {% endif %}
  </div>
</loading-animation>

{% schema %}
{
  "name": "Media Banner",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "url",
      "id": "home_link",
      "label": "Home Link",
      "info": "Where the page will link to when the media is clicked."
    },
    {
      "type": "video",
      "id": "desktop_video",
      "label": "Desktop Video"
    },
    {
      "type": "video",
      "id": "mobile_video",
      "label": "Mobile Video"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image (Both Desktop & Mobile)"
    }
  ],
  "presets": [
    {
      "name": "Media Banner"
    }
  ]
}
{% endschema %}
